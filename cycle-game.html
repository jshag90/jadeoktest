<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      자덕력 테스트-자덕력 미니게임-자도를 달리며 라이딩 시뮬레이션을 해보세요.
    </title>
    <link href="cycle_styles.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
  </head>
  <body>
    <header class="top-header">
      🚴 자덕력 미니게임
      <button
        id="menu-btn"
        style="
          position: absolute;
          right: 20px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          font-size: 2rem;
          color: white;
          cursor: pointer;
        "
        aria-label="메뉴 열기"
      >
        &#9776;
      </button>
      <nav
        id="menu-nav"
        style="
          display: none;
          position: absolute;
          top: 80px;
          right: 20px;
          background: rgba(0, 0, 0, 0.95);
          border-radius: 16px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
          padding: 1rem 2rem;
          z-index: 10000;
          min-width: 180px;
        "
      >
        <ul style="list-style: none; margin: 0; padding: 0">
          <li>
            <a
              href="./"
              style="
                color: white;
                text-decoration: none;
                font-weight: 600;
                display: block;
                padding: 0.5rem 0;
              "
              >자덕력 테스트</a
            >
          </li>
          <li>
            <a
              href="./cycle-game.html"
              style="
                color: white;
                text-decoration: none;
                font-weight: 600;
                display: block;
                padding: 0.5rem 0;
              "
              >자덕력 미니게임</a
            >
          </li>
        </ul>
      </nav>
      <script>
        const menuBtn = document.getElementById("menu-btn");
        const menuNav = document.getElementById("menu-nav");
        menuBtn.addEventListener("click", function (e) {
          e.stopPropagation();
          menuNav.style.display =
            menuNav.style.display === "block" ? "none" : "block";
        });
        document.addEventListener("click", function (e) {
          if (
            menuNav.style.display === "block" &&
            !menuNav.contains(e.target) &&
            e.target !== menuBtn
          ) {
            menuNav.style.display = "none";
          }
        });
      </script>
    </header>

    <section
      class="game-description"
      style="
        max-width: 420px;
        margin: 25px auto 5px;
        background: #fff8f0;
        border-radius: 16px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.07);
        padding: 4rem 1rem 1rem 1rem; /* 상단 패딩 추가 */
        text-align: center;
        font-size: 0.8rem;
        color: #333;
      "
    >
      60초동안 장애물을 피해 아이템을 먹고 점수를 올리세요!
    </section>

    <div class="game-container">
      <canvas id="gameCanvas"></canvas>
      <div class="mobile-controls">
      <button class="control-button left-button" id="leftButton"></button>
      <button class="control-button right-button" id="rightButton"></button>
      </div>
    </div></div>
    <div style="text-align: center; margin-top: 18px;">
    <button id="rankingButton" class="ranking-button">
      🏆 랭킹보기
    </button>
    </div>


       <!-- 점수 등록 모달 -->
    <div id="scoreModal" class="modal-overlay">
      <div class="modal-content">
        <div class="celebrate-emoji">🎉</div>
        <div class="modal-header">
          <div class="modal-title">게임 종료!</div>
          <div class="modal-score" id="finalScore">0점</div>
        </div>
        
        <form class="modal-form" id="scoreForm">
          <input 
            type="text" 
            id="nicknameInput" 
            class="nickname-input" 
            placeholder="닉네임을 입력하세요 (최대 10자)"
            maxlength="10"
            required
          />
        </form>

        <div class="modal-buttons">
          <button type="button" class="modal-button secondary" id="skipButton" onclick="location.reload()">
            건너뛰기
          </button>
          <button type="submit" form="scoreForm" class="modal-button primary" id="submitButton">
            등록하기
          </button>
        </div>
      </div>
    </div>

    <footer class="modern-footer">
      <div class="footer-content">
        <div class="app-promotion">
          <span class="app-icon">📱</span>
          <a
            href="https://play.google.com/store/apps/details?id=com.dodam.bicycleairpressuremaster"
            class="app-link"
          >
            <span class="app-text">자전거공기압계산기</span>
            <span class="app-subtitle">안드로이드 앱 다운로드</span>
          </a>
        </div>

        <div class="footer-links">
          <a href="./privacy-policy.html" class="footer-link"
            >개인정보처리방침</a
          >
          <span class="divider">•</span>
          <a href="./terms-of-service.html" class="footer-link">이용약관</a>
        </div>

        <div class="copyright">
          © 도담소프트(DoDamSoft) 2025. All Rights Reserved.
        </div>

        <!-- <ins
          class="kakao_ad_area"
          style="display: none"
          data-ad-unit="DAN-dyddLLg4dLJwTgA3"
          data-ad-width="320"
          data-ad-height="50"
        ></ins>
        <script
          type="text/javascript"
          src="//t1.daumcdn.net/kas/static/ba.min.js"
          async
        ></script> -->
      </div>
    </footer>

    <script src="cycle-game.js"></script>
  </body>
</html>
